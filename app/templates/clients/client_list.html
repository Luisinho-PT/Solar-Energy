{% extends "base.html" %}

{% block title %}Clientes{% endblock %}

{% block content %}
<h1>Lista de Clientes</h1>

<a href="{% url 'app:client_select_type' %}" class="btn btn-primary" style="margin-bottom: 20px;">
    + Adicionar Novo Cliente
</a>

<!-- ===== CLIENTES PF ===== -->
<div class="table-container">
    <h2>Pessoas Físicas</h2>

    {% if pf_clients %}
    <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>CPF</th>
                <th>Telefone</th>
                <th>Email</th>
                <th style="width: 180px;">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for client in pf_clients %}
            <tr>
                <td>{{ client.name }}</td>
                <td>{{ client.cpf }}</td>
                <td>{{ client.phone }}</td>
                <td>{{ client.email }}</td>
                <td class="action-buttons">
                    <a href="{% url 'app:client_update_pf' client.pk %}" class="btn btn-primary">
                        Editar
                    </a>
                    <a href="{% url 'app:client_delete_pf' client.pk %}" class="btn btn-danger">
                        Excluir
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Nenhum cliente PF encontrado.</p>
    {% endif %}
</div>

<!-- ===== CLIENTES PJ ===== -->
<div class="table-container" style="margin-top: 35px;">
    <h2>Pessoas Jurídicas</h2>

    {% if pj_clients %}
    <table>
        <thead>
            <tr>
                <th>Empresa</th>
                <th>CNPJ</th>
                <th>Telefone</th>
                <th>Email</th>
                <th style="width: 180px;">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for client in pj_clients %}
            <tr>
                <td>{{ client.company_name }}</td>
                <td>{{ client.cnpj }}</td>
                <td>{{ client.phone }}</td>
                <td>{{ client.email }}</td>
                <td class="action-buttons">
                    <a href="{% url 'app:client_update_pj' client.pk %}" class="btn btn-primary">
                        Editar
                    </a>
                    <a href="{% url 'app:client_delete_pj' client.pk %}" class="btn btn-danger">
                        Excluir
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Nenhum cliente PJ encontrado.</p>
    {% endif %}
</div>

{% endblock %}
