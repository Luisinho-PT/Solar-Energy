{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/produto_form.css' %}">
{% endblock %}

{% block content %}
<div class="produto-wrapper">

    <!-- FORM -->
    <div class="form-area">
        <h1 class="title">‚ûï Adicionar Novo Produto</h1>
        <p class="subtitle">Preencha os dados abaixo para cadastrar um novo item no cat√°logo.</p>

        <form method="post" enctype="multipart/form-data" id="produtoForm">
            {% csrf_token %}

            <!-- Nome -->
            <label>Nome do Produto</label>
            <input type="text" name="nome" id="nomeInput" required>

            <!-- Descri√ß√£o -->
            <label>Descri√ß√£o</label>
            <textarea name="descricao" id="descricaoInput" rows="4" required></textarea>

            <!-- Categoria -->
            <label>Categoria</label>
            <select name="categoria" id="categoriaInput" required>
                <option value="">Selecione...</option>
                {% for cat in categorias %}
                    <option value="{{ cat.id }}">{{ cat.nome }}</option>
                {% endfor %}
            </select>

            <!-- Pre√ßo -->
            <label>Pre√ßo</label>
            <input type="number" step="0.01" min="0" name="preco" id="precoInput" required>

            <!-- Imagem -->
            <label>Imagem do Produto</label>
            <input type="file" name="imagem" id="imagemInput" accept="image/*">

            <button class="btn-submit" type="submit">Salvar Produto</button>
        </form>
    </div>

    <!-- PREVIEW -->
    <div class="preview-area">
        <h2>Pr√©-visualiza√ß√£o</h2>

        <div class="product-card preview-card" id="previewCard">
            <div class="product-media">
                <img id="previewImg" src="{% static 'images/placeholder-product.png' %}">
            </div>

            <div class="product-body">
                <div class="product-title">
                    <span id="previewNome">Nome do Produto</span>
                    <span class="product-price" id="previewPreco">R$ 0,00</span>
                </div>

                <div class="product-category" id="previewCategoria">Categoria</div>

                <div class="product-desc" id="previewDesc">
                    A descri√ß√£o do produto aparecer√° aqui...
                </div>

                <div class="product-actions">
                    <button class="btn-card btn-details">Ver detalhes</button>
                    <button class="btn-card btn-buy">üõí Adicionar</button>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="{% static 'js/produto_form.js' %}"></script>
{% endblock %}
